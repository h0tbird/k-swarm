package cmd

//-----------------------------------------------------------------------------
// Imports
//-----------------------------------------------------------------------------

import (

	// Stdlib
	"fmt"
	"sync"
)

//-----------------------------------------------------------------------------
// Globals
//-----------------------------------------------------------------------------

var (
	onStopProfiling func()
	profilingOnce   sync.Once
)

//-----------------------------------------------------------------------------
// startProfiling
//-----------------------------------------------------------------------------

func startProfiling() func() {

	fmt.Println("Starting profiling...")

	return func() {
		fmt.Println("Stopping profiling...")
	}
}

//-----------------------------------------------------------------------------
// stopProfiling
//-----------------------------------------------------------------------------

func stopProfiling() {
	if onStopProfiling != nil {
		profilingOnce.Do(onStopProfiling)
	}
}
